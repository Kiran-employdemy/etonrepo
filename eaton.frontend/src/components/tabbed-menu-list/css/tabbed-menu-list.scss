//-----------------------------------
// Component M-46: Tabbed Menu List |Â Category Menu
//-----------------------------------
// Import All SASS config files (Variables, Mixins, Functions, Extends etc...)
@import "../../../global/css/_config/sass";

.tabbed-menu-list {

  $TABS-LINKS-LIMIT: 60;
  $TABS-LINKS-PER-ROW: 3;
  $TABS-TOTAL-ROWS: $TABS-LINKS-LIMIT / $TABS-LINKS-PER-ROW;

  &__component {
    // Empty selector for future reference
  }

  &__view-mobile {
    display: block;
  }

  &__view-desktop {
    display: none;
  }

  &__title {

    display: block;
    padding: $spacing__md / 2 0;
    font-weight: bold;

    .icon {

      &::before {
        @extend %icon-sign-minus;
      }
    }

    &.collapsed {

      .icon {

        &::before {
          @extend %icon-sign-plus;
        }
      }
    }

    &:focus,
    &:active {
      text-decoration: none;
    }
  }

  &__tab-title {
    padding: 0;
    border-bottom: 4px solid $color__secondary-gray5;

    a {
      display: block;
      padding-bottom: $spacing__md / 2;
    }

    .panel-collapse a {
      padding-bottom: 25px; // Visually 30px spacing
    }

    > a {
      color: var(--grey-primary-brand-color, $color__primary-gray1);

      // Icon is only used in mobile breakpoint (+/- toggle icons)
      .icon {
        color: var(--primary-brand-color, $color__primary-blue);
        font-size: 2.0rem;
      }

      &.collapsed {
        color: var(--primary-brand-color, $color__primary-blue);
      }
    }
  }

  @include media-desktop-and-up {

    &__view-mobile {
      display: none;
    }

    &__view-desktop {
      display: block;
    }

    &__title {

      &.desktop {
        border-bottom-width: 0;
        flex: 1;
      }
    }

    &__tab-title {
      border-color: transparent;
      display: block;
      border-bottom: 1px solid $color__secondary-gray5;

      a { color: var(--link-brand-color, $color__primary-blue); }

      &.active {
        border-bottom: 5px solid var(--link-brand-color, $color__primary-blue);

        a:not(.link) {
          color: var(--grey-primary-brand-color, $color__primary-gray1);
        }

      }

      &.active.link {
        border-bottom: 1px solid $color__secondary-gray5;
      }

      &.desktop {
        display: flex;
        margin-right: 3%;
        margin-bottom: 4px;
        position: relative;
        width: 30%;
      }

      // For Loop - Classes example:
      // &.row-1 { order: 1; }
      // &.row-2 { order: 3; }
      // &.row-3 { order: 5; }
      // ...
      @for $i from 1 through $TABS-TOTAL-ROWS {
        &.row-#{$i} {
          order: #{($i * 2) - 1};
        }
      }

    }

    &__tab-links {
      border-left: 1px solid $color__primary-gray3;
      padding-left: 40px;

      a {
        color: var(--link-brand-color, $color__primary-blue);
        display: inline-block;
        margin-bottom: 38px; // Visually 50px spacing
      }

      &--link {
        &:nth-child(3n+1) {
          clear: both;
        }
      }

    }

    &__tabs {
      display: block;
      overflow: hidden;
    }

    &__tab-content {
      background: $color__secondary-gray5; // padding-top: 50px;
      min-height: 0;
      width: 100%;

      &.desktop {
        // Empty selector for future reference
      }

      .tab-pane { display: none; }

      // For Loop - Classes example:
      // &.row-1 { order: 2; }
      // &.row-2 { order: 4; }
      // &.row-3 { order: 6; }
      // ...
      @for $i from 1 through $TABS-TOTAL-ROWS {
        &.row-#{$i} {
          order: #{ $i * 2 };
        }
      }

    }

    &__links-list {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }

    &__links-item {
      width: 33%;
      padding-right: 20px;
    }

    .tab-pane {
      padding: 50px 0 30px;
    }

    .tab-container {
      display: flex;
      flex-wrap: wrap;
      flex-direction: row;
    }
  }

  // FIX EATON-687 - IE11 - Category Menu formatting is incorrect on IE11
  // The links in the Category Menu are not formatted correctly on IE11.
  // They should be in three columns and two rows (like other browsers)

  // NOTE: Disabled since the default width is 30% and has no issues in IE11
  // @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  //   .tabbed-menu-list__tab-title.desktop {
  //     flex: 0 0 30%;
  //     width: 30%;
  //   }
  // }

}
