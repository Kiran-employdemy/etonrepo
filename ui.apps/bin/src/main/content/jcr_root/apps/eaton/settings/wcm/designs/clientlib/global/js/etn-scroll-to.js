/**
 *
 *
 *
 * - THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY -
 * - Generated by Gulp (gulp-babel).
 *
 *
 *
 *
 */


//-----------------------------------
// Component: Example Component
//-----------------------------------
'use strict';

var App = window.App || {};
App.scroll = function () {
  var _this = this;

  // Cached DOM Elements
  //--------------
  var $componentSelector = $('[data-scroll-to]');
  var $htmlEl = $('html, body');
  var headerEl = document.querySelector('.eaton-header');

  var HEADER_HEIGHT_WHEN_STICKY = 84;
  var HEADER_HEIGHT = headerEl ? HEADER_HEIGHT_WHEN_STICKY : 0;

  var init = function init() {
    addEventListeners();
  };

  /**
   * Bind All Event Listeners
   */
  var addEventListeners = function addEventListeners() {

    // Bind click behavior for all elements with data-attr
    $componentSelector.on('click', fromClickedElement);
  };

  /**
  * Scroll the window to the given selector
  * @param { String } cssSelector. ID or Class of the element to scroll to
  */
  var toElementSelector = function toElementSelector(cssSelector, duration, isOffsetEnabled) {
    duration = duration || 500;
    isOffsetEnabled = isOffsetEnabled ? true : false;

    var positionTop = $(cssSelector).eq(0).offset().top;
    var TITLE_HEIGHT = 120;

    // NOTE: There are components like the Header that can have "Position: Fixed".
    // It adds these components height as an offset to the scroll behavior
    if (isOffsetEnabled) {

      // Remove Header height from the scroll position
      positionTop -= HEADER_HEIGHT;
      positionTop -= TITLE_HEIGHT;
    }

    $htmlEl.animate({
      scrollTop: positionTop
    }, duration);
  };

  /**
  * Scroll the window to clicked element with a custom "data-attr"
  * @param { Object } event - Click event object
  */
  var fromClickedElement = function fromClickedElement(event) {

    var varDataSet = event.currentTarget.dataset;
    var varScrollTo = null;
    var varScrollToOffsetEnabled = null;
    if (varDataSet === undefined || varDataSet === null) {
      // IE 10 did not recognize 'dataset' property.

      varScrollTo = $(_this).attr('data-scroll-to');
      varScrollToOffsetEnabled = $(_this).attr('data-scroll-to-offset-enabled');
    } else {
      varScrollTo = varDataSet.scrollTo;
      varScrollToOffsetEnabled = varDataSet.scrollToOffsetEnabled;
    }

    // Enable offset when The Header or other position fixed top components are in the current page
    var offsetEnabled = varScrollTo && varScrollToOffsetEnabled === 'true' ? true : false;

    // If the current element is <a> instead of a <button>
    event.preventDefault();

    var cssSelector = varScrollTo;
    toElementSelector(cssSelector, 500, offsetEnabled);
  };

  /**
  * If containing DOM element is found, Initialize and Expose public methods
  */
  if ($componentSelector.length > 0) {
    init();

    // Public Methods
    return {
      toElementSelector: toElementSelector
    };
  }
}();